---
phase: 02-content-polish
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - app/assets/css/main.css
autonomous: true

must_haves:
  truths:
    - "Blockquotes have a gold left border with subtle warm background tint and comfortable padding"
    - "Images in prose content have rounded corners with a subtle border treatment"
    - "Prose links have smooth underline color transition on hover"
    - "Code blocks have refined padding and border treatment that harmonizes with the palette"
    - "Inline code has a visible background pill with gold text"
    - "All new CSS rules use var(--color-*) references — no hardcoded hex outside @theme"
  artifacts:
    - path: "app/assets/css/main.css"
      provides: "All prose element overrides for blockquotes, images, links, code blocks"
      contains: "prose blockquote"
  key_links:
    - from: "app/assets/css/main.css"
      to: "@theme tokens"
      via: "var(--color-*) references in all new rules"
      pattern: "var\\(--color-"
    - from: ".prose blockquote background"
      to: "--color-gold"
      via: "color-mix function"
      pattern: "color-mix.*--color-gold"
    - from: ".prose a transition"
      to: "--ease-smooth"
      via: "CSS transition property"
      pattern: "transition.*ease-smooth"
---

<objective>
Polish all prose content elements in main.css — blockquotes, images, links, and code blocks — to achieve premium-quality styling that harmonizes with the gold/cream/dark palette.

Purpose: Blog post content must feel refined and intentional. Currently, blockquotes have plain dark borders, images lack borders, links have no hover transitions, and code blocks have minimal styling. This plan upgrades all prose elements to premium quality.
Output: Updated main.css with refined prose element overrides covering PROS-01, PROS-02, PROS-03, PROS-04, CODE-01, CODE-02.
</objective>

<execution_context>
@/home/aph5nt/.claude/get-shit-done/workflows/execute-plan.md
@/home/aph5nt/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-content-polish/02-RESEARCH.md
@app/assets/css/main.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Blockquote, image, and link prose overrides</name>
  <files>app/assets/css/main.css</files>
  <action>
Modify app/assets/css/main.css to add/update three prose element overrides:

**1. Blockquote styling (PROS-01):**
- Change `--tw-prose-quote-borders` from `var(--color-dark-border)` to `var(--color-gold)` in the existing `.prose` variable block
- Do NOT change `--tw-prose-quotes` — it must stay `var(--color-cream)` (text remains cream per gold restraint)
- Add a new `.prose blockquote` rule with:
  - `background-color: color-mix(in srgb, var(--color-gold) 5%, transparent);`
  - `border-radius: 0 0.5rem 0.5rem 0;` (flat left for border alignment, rounded right)
  - `padding: 1rem 1.25rem;` (explicit all-sides padding — CRITICAL: without this, the background tint hugs text too tightly)

**2. Image borders (PROS-02):**
- Modify the existing `.prose img` rule (currently only `@apply rounded-lg;`)
- Add `border: 1px solid var(--color-dark-border);` after the @apply

**3. Link transitions (PROS-03):**
- Modify the existing `.prose a` rule to add:
  - `text-decoration-thickness: 1px;`
  - `transition: color 0.2s var(--ease-smooth), text-decoration-color 0.2s var(--ease-smooth);`
- Modify the existing `.prose a:hover` rule to add:
  - `text-decoration-color: var(--color-gold);`

Keep all existing properties in each rule. Only ADD to them.
  </action>
  <verify>
Run: `npx nuxi build` — build must succeed with no errors.
Grep main.css to confirm:
- `--tw-prose-quote-borders: var(--color-gold)` exists
- `--tw-prose-quotes: var(--color-cream)` is unchanged
- `.prose blockquote` rule contains `color-mix` and `padding: 1rem 1.25rem`
- `.prose img` rule contains `border: 1px solid var(--color-dark-border)`
- `.prose a` rule contains `transition:` with `ease-smooth`
- `.prose a:hover` rule contains `text-decoration-color: var(--color-gold)`
  </verify>
  <done>
Blockquotes show gold left border with 5% gold background tint and comfortable padding. Images have subtle dark border with rounded corners. Prose links smoothly transition underline color to gold on hover. All rules use var() token references.
  </done>
</task>

<task type="auto">
  <name>Task 2: Code block refinement and PROS-04 audit</name>
  <files>app/assets/css/main.css</files>
  <action>
Modify app/assets/css/main.css for code block styling and final audit:

**1. Code block padding (CODE-01):**
- Modify the EXISTING `.prose pre` rule (currently `@apply border border-dark-border rounded-lg;`)
- Add `padding: 1.25rem 1.5rem;` to refine the default padding
- Do NOT duplicate the rule — modify it in place

**2. Inline code styling (CODE-01, CODE-02):**
- Add a NEW rule `.prose :where(code):not(:where(pre code))` with:
  - `background-color: var(--color-dark-surface);` (NOT dark-elevated — that is reserved for Phase 3 per STATE.md)
  - `padding: 0.2em 0.4em;`
  - `border-radius: 0.25rem;`
  - `font-weight: 500;`
- The `:where()` selector ensures low specificity. The `:not(:where(pre code))` excludes code inside pre blocks (which already have their own styling via --tw-prose-pre-code).
- Inline code text color is already gold via `--tw-prose-code: var(--color-gold)` — do not override it.

**3. PROS-04 audit:**
- Scan the entire `.prose` block and all `.prose *` rules to confirm NO hardcoded hex values exist outside the @theme block
- The only allowed non-var() value is `--tw-prose-kbd-shadows: 201 184 140` (raw RGB triplet required by the plugin)
- If any hardcoded hex is found in prose rules, replace with the appropriate var(--color-*) reference

**4. CODE-02 verification:**
- Confirm `--tw-prose-pre-bg: var(--color-dark-surface)` and `--tw-prose-pre-code: var(--color-cream)` are still set correctly (these establish palette harmony — do not change them)
  </action>
  <verify>
Run: `npx nuxi build` — build must succeed with no errors.
Grep main.css to confirm:
- `.prose pre` rule contains `padding: 1.25rem 1.5rem` AND `border border-dark-border rounded-lg`
- `.prose :where(code):not(:where(pre code))` rule exists with `background-color: var(--color-dark-surface)`
- No hex values (#...) appear in any .prose rule (only in @theme block)
- `--tw-prose-pre-bg: var(--color-dark-surface)` is present
- `--tw-prose-pre-code: var(--color-cream)` is present
  </verify>
  <done>
Code blocks have refined 1.25rem/1.5rem padding with existing border treatment. Inline code shows gold text on dark-surface background pill with rounded corners. All prose CSS rules use var() token references with zero hardcoded hex values. Code block colors harmonize with the gold/cream palette via theme tokens.
  </done>
</task>

</tasks>

<verification>
After both tasks, run `npx nuxi build` and confirm:
1. Build succeeds (29 routes prerendered)
2. main.css contains blockquote, image, link, and code block overrides
3. All new CSS rules use var(--color-*) references
4. No duplicate `.prose pre` selectors exist
5. `--tw-prose-quote-borders` is gold, `--tw-prose-quotes` is cream
</verification>

<success_criteria>
- Blockquotes: gold left border + 5% gold background tint + padded on all sides
- Images: rounded-lg + 1px dark-border
- Links: smooth 0.2s transition on underline color and text color
- Code blocks: refined padding (1.25rem 1.5rem) + existing border
- Inline code: dark-surface background pill + gold text + rounded corners
- PROS-04: zero hardcoded hex in prose overrides
</success_criteria>

<output>
After completion, create `.planning/phases/02-content-polish/02-01-SUMMARY.md`
</output>
